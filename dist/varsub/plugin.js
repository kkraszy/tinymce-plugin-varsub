(()=>{var w=function(){return(w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var r='<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n<defs>\n<image id="image5" width="24" height="24" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAMxwAADMcBrInqMQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJtZa9a1RBFMV/Z+6dFUQkCXEJFoKQwtiooCAKGhD/AitREVMJdhbBwmiVgBb+BSoBCzv/BbEXPxAxfoCghWIWFFEiz+dei/1w2SzsIm8PDG/mPeacmXvenTuKCMYJ73QkTUBtphra4nNEfOuMZizlVZNvmDwqahuW8iowY558ieBS724qgAP7LaWmTL4OTFdI3ouGTD5WlzthWY/gVpXEEpeBHZg8XL4WEVTZXL5m8khVrnoQBgpk5Xm32v1RSTzlB1n5yMgCIVZEvO4SyM+4+e1s+YakrZKm3PyOy08BSLwLcW0kAUl14HA041l77EIfCE1EsJjwiya/R2hBSccAohlPgROStm9S6DfZ8fnWr1vb02taJu9rZ+knx086fhyotb8dMHlk8sF+kwdl7+/Wo/jZ+7KI4rmn/AXYVlI+jIjy34T0w/iD0K9+sk0CJeULw8PxWeCjpF0JPwsoia8BdcePAo+6UaCcBZUFxZuhHkTEd8HbJpoDsGRLEsspMR0RKwAhll1+XtIWgEB7A15GRDHUg4jAyBdM/rhVK2pzhp0DDJCRFxJ+JZMPtWuJXP7KsNODEm2gAJASfh2YGpaxwM6EXwU0skDVR0UjYFKSbYrff0KSBUwCDZe4G8Fikj/xlN9XIZDku4G6xE0Yc8lU51YxrqLfFRgX/gItWZGAW67ZOwAAAABJRU5ErkJggg=="/>\n</defs>\n<g id="surface2">\n<use xlink:href="#image5"/>\n</g>\n</svg>',n={start:"{{",end:"}}"};function a(e){return e.start||(e.start=n.start),e.end||(e.end=n.end),!0}function e(u,e){u.options.isRegistered("varsub")||u.options.register("varsub",{processor:a,immutable:!0,default:n});var t,s,p,d=u.options.get("varsub");null!=(t=null==d?void 0:d.variables)&&t.length&&(u.ui.registry.addIcon("varsub",r),s=function(e,t){function r(n){if(y(n))return t.withSeparator&&i.push({type:"menuitem",text:"-â€”-".repeat(5),enabled:!1});var e={type:"menuitem",text:n.label||n.code,onAction:function(){t=n.code,e=n.example,e=Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e,e=tinymce.html.Node.create("span",{class:"varsub-var","data-varsub-var":t,"data-varsub-example":String(e)||""}),(r=tinymce.html.Node.create("#text")).value=d.start+t+d.end,e.append(r);t=e;var e,t,r=tinymce.html.Serializer().serialize(t);u.insertContent(r)},enabled:!0};x(n)&&(e=w(w({},e),{type:"nestedmenuitem",getSubmenuItems:function(){return s(n.items)}})),i.push(e)}void 0===t&&(t={});var n,a,i=[];try{for(var l=b(e),o=l.next();!o.done;o=l.next())r(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return i},p=function(e,t){var r,n,a,i,l,o,u,s,d,A,c,g=[];try{for(var h=b(t),v=h.next();!v.done;v=h.next()){var m,f=v.value;y(f)||(x(f)?0<(m=p(e,f.items)).length&&g.push(w(w({},f),{items:m})):(null!=(l=null==(i=null==(a=f.code)?void 0:a.toLowerCase)?void 0:i.call(a))&&l.includes(e)||null!=(s=null==(u=null==(o=f.label)?void 0:o.toLowerCase)?void 0:u.call(o))&&s.includes(e)||null!=(c=null==(A=null==(d=String(f.example))?void 0:d.toLowerCase)?void 0:A.call(d))&&c.includes(e))&&g.push(f))}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return g},u.ui.registry.addMenuButton("varsub",{icon:"varsub",tooltip:"Insert Variable",search:{placeholder:"Filter variables"},fetch:function(e,t){t.pattern?0===(t=p(t.pattern,d.variables)).length?e([{type:"menuitem",text:"No results",enabled:!1}]):e(s(t)):e(s(d.variables,{withSeparator:!0}))}}))}var t=Symbol("separator");function y(e){return e===t||"SEPARATOR"===e||String(e)===String(t)||e.code===t||String(e.code)===String(t)||"SEPARATOR"===e.code}function x(e){return void 0!==e.items}tinymce.PluginManager.add("varsub",e)})();