(()=>{var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var r='<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n<defs>\n<image id="image5" width="64" height="64" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAHYAAAB2AH6XKZyAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABSFJREFUeJztmltoHkUYhp82baNJrK3EVCweClWrreAZ03hAFC1IEEoPCuJF8Xgn6pVYvKqKIHiq9EJb8HRhUWppi1rxyjYonqmpoDE0Smush8RGo/mbrBff/+Nm9pvZnd3ZJMI+sBeZzLzvt/PvzH4zO1BRUVFRUVFRkY1zgJ3Aj8AWoHl6wwHgTGAvcBjYhcRYCguBQ0AUu54oy8yDt5gc00GgqQyjjYZRBHxfhpEnh0nGdWtok1bgqGLUE9ooB/tIxvV5aJP7FJMIuDO0UQ7uRo/tmpAmnykGg8AJIU1yciL60/lqKIMrFfEIeDSUQQAeIxnf38ApIcSfV8RHgUUhxANxOjBGCUO0CTiiCG8rKlwCb5CM872iotcqohFwc1HhElhLMs4asKCIqDa2/mBmTH4mbcjQNONd7Wo0O0X0RqVsDzLBzDRGgA+U8pvyCp4MjJPs0fV5BaeAu0jG+7WrwSzH/64H3jfKJoB24PcMwXQCtwOnxsp+QbLH7WR7ilqRX7AL6AD6gWfrOhqLkYWaGfNCZOh68TCevRljJXBcad+4vgGWONo3A48gN2q2PYh7FWou2CJkMvfmNUVoa8a2m5W25tWLPpkuRTra1daV5m5X6t9rq+yaBM9Tynod9eNEGeqcD9xvlF2NDJELMvpoHFDKtHtJZYhkT3ZnbNuJewg0rp+AufU2q5B5IcuT4xoC65U2b9sqz7GUtyBvAZNDDuM4PcBVyCTYUS/rIDkWFyGd2odkcrYbG0aWvZ8gk+A/Dm9tj8I7bV+C3vsdrkYptKE/VfuAHyx+48BzwEkePmcoOv2+wV6qiEyQnjil8Yyia7tqwLocHs2K1m++IisVkdEcwZgsQzoy7ebHSElhU6gZen/5ClynBDVUIKA4BxRt87qjoMcxQ2/cVtHnkZ5XMKgGe1L+vxl4uaDHhPH3cV+BLvRfJsR3ANcw6CFMR5ubI8O2irYnwJanzy8WFwBnoydKE8iafqyg/hz+yy0aWOcvWwfYFjtabuDDWcArFt/Z9f8XpV0pO2qrbOuAny3lRTqgBdiBHmCDtQX0G2i5incHjNQvk7y/UBPwEnBRSr01jpiyosV4xFbZZaZlTyu8w5Gb30q2z1WLkQVRES5Uyr61VXZ1wHdKmW8HtAGvY3+va5PhbZ4eJsuVsr48Qo+jr8SyMB8Zz/2KRnyFpu0bDDN5F8mXrxTNy/IIrVOEarhzgW5kx0bbS4xfHyOT4vKUehEyIT9JtrlhLrJSNNPqXLvYSy0BdVrqnwb8meGGvmDy8nRvhjYRsCFDzBdb/Ky4erUP+FUp17bKG+YtKQHuRvYJBmNlD+HI1WN0Zaijxeb8hO/qgIjkrrDNBGRNb6MGbAJuIfl6/RJ4ytG2gbnbq7FKKXs3QzsrG9DnAdvnpheMuseQV+CyFJ9ZyAmUEcWvMfm6EiiQTRNz/NdISd5c3wVAdlcGlPI1wJuWNiuQHaVBZPz55PatwCXIHNGIbRD4CPc2GMjTtcMo+5DieQW9JH+RF4uKlsAWknFuDCH8tCI8hJzMmCnMQz8lckUI8RsU4Yh8+3VlsZpkfAMUX1dAXWRAMdgVQjwQO0nGtymkgXZOoIYkP9NNB/rxmLQ3jxfnom9jPRDSJCcPkoxrfxlG+6fKyJNPScZl/RhahHsUIy1HmEqaSH4DGEXOAwRnAXLIIG62rQwjT3YzOaZ3yjTrRg431JCTmIVOYAWiHTnLUEM+ulw+veFUVFRUVFRU/F/4F2MrWTEBY1nwAAAAAElFTkSuQmCC"/>\n</defs>\n<g id="surface2">\n<use xlink:href="#image5" transform="matrix(0.0234375,0,0,0.0234375,0,0)"/>\n</g>\n</svg>',n={start:"{{",end:"}}"};function a(e){return e.start||(e.start=n.start),e.end||(e.end=n.end),!0}function e(u,e){u.options.isRegistered("varsub")||u.options.register("varsub",{processor:a,immutable:!0,default:n});var t,s,b,c=u.options.get("varsub");null!=(t=null==c?void 0:c.variables)&&t.length&&(u.ui.registry.addIcon("varsub",r),s=function(e,t){function r(n){if(w(n))return t.withSeparator&&i.push({type:"menuitem",text:"-â€”-".repeat(5),enabled:!1});var e={type:"menuitem",text:n.label||n.code,onAction:function(){t=n.code,e=n.example,e=Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e,e=tinymce.html.Node.create("span",{class:"varsub-var","data-varsub-var":t,"data-varsub-example":String(e)||""}),(r=tinymce.html.Node.create("#text")).value=c.start+t+c.end,e.append(r);t=e;var e,t,r=tinymce.html.Serializer().serialize(t);u.insertContent(r)},enabled:!0};R(n)&&(e=f(f({},e),{type:"nestedmenuitem",getSubmenuItems:function(){return s(n.items)}})),i.push(e)}void 0===t&&(t={});var n,a,i=[];try{for(var o=p(e),l=o.next();!l.done;l=o.next())r(l.value)}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i},b=function(e,t){var r,n,a,i,o,l,u,s,c,d,A,v=[];try{for(var y=p(t),m=y.next();!m.done;m=y.next()){var h,g=m.value;w(g)||(R(g)?0<(h=b(e,g.items)).length&&v.push(f(f({},g),{items:h})):(null!=(o=null==(i=null==(a=g.code)?void 0:a.toLowerCase)?void 0:i.call(a))&&o.includes(e)||null!=(s=null==(u=null==(l=g.label)?void 0:l.toLowerCase)?void 0:u.call(l))&&s.includes(e)||null!=(A=null==(d=null==(c=String(g.example))?void 0:c.toLowerCase)?void 0:d.call(c))&&A.includes(e))&&v.push(g))}}catch(e){r={error:e}}finally{try{m&&!m.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}return v},u.ui.registry.addMenuButton("varsub",{icon:"varsub",tooltip:"Insert Variable",search:{placeholder:"Filter variables"},fetch:function(e,t){t.pattern?0===(t=b(t.pattern,c.variables)).length?e([{type:"menuitem",text:"No results",enabled:!1}]):e(s(t)):e(s(c.variables,{withSeparator:!0}))}}))}var t=Symbol("separator");function w(e){return e===t||"SEPARATOR"===e||String(e)===String(t)||e.code===t||String(e.code)===String(t)||"SEPARATOR"===e.code}function R(e){return void 0!==e.items}tinymce.PluginManager.add("varsub",e)})();